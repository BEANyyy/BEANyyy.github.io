---
layout: single
title:  "0. 사전지식 쌓기 - 주식 용어 정리"
categories: 프로젝트
excerpt: 주식 용어 정리
tag: [ESN주가분석, python, ML, 프로젝트, AI]
toc: true
author_profile: false
---

## 시가, 고가, 저가, 종가(OHLC : Open, High, Low, Close Price)

![Untitled](/images/Untitled.png)

*국내 주식 시장은 9:00에 열려서 15:30에 마침

- **시가** : 장이 열릴 때(9:00) 결정된 가격 =시작 가격
- **종가** : 장이 닫힐 때(15:30) 최종 가격 =끝날 때 가격
- **고가** : 일봉 기준 하루 중에 가장 높은 가격
- **저가** : 일봉 기준 하루 중에 가장 낮은 가격

---

## 시가총액

**증권 거래소에 상장된 모든 상장 주식을 시가로 평가한 금액**

- 시가총액 = *상장된 주식수 * 가장 최근의 종가*
    - 계속 변동된다.
- 주식 시장에서 평가 받은 기업의 가치라고 볼 수 있다!

- 예시) SK바이오사이언스
    - 시가 총액 = 12조 9,285억 원
        - 참고 사진
            
            ![Untitled](/images/Untitled1.png)
            
        - 주식수 : 76,500,000주
        - 가장 최근의 종가 : 169,000(예시일자 기준)
        - 따라서 76,500,000 (주) * 169,000 = 12,928,500,000,000 (원)
        

---

## EPS, PER, BPS, PBR

![Untitled](/images/Untitled2.png)

- **EPS (Earnings Per Share) : 주당순이익**
    - **주당순이익(EPS) = 당기순이익 / 총주식수**
        - *당기순이익 : 일정기간의 순이익
    - 1주(week)당 얼마의 이익을 냈느냐를 나타내는 지표 : 기업의 수익성 비교에 좋다
    - EPS가 높을수록 배당여력이 크다는 의미 ⇒ 주가에 긍정적 영향
    - 기업 예상 주가 예상 : 예상 EPS * PER
    
    ![Untitled](/images/Untitled3.png)
    

- **PER (Price Earnings Ratio) : 주가수익비율**
    - **주가수익비율(PER) = 주가 / 주당순이익(EPS)**
    - 주가가 1주당 수익의 몇 배가 되는가를 나타냄.
    - 저평가 vs 고평가
        - PER이 높은 경우 : 고평가
        - PER이 낮은 경우 : 저평가
        - 저평가된 주식을 사서 고평가일 때 파는 게 이득!
            - 예시
                
                ![Untitled](/images/Untitled5.png)
                
            
            ![Untitled](/images/Untitled.png)
            

- **BPS (Book-value Per Share) : 주당순자산 가치**
    - **주당순자산(BPS) = 순자산 / 총주식수**
        - 순자산?
            
            = 순순한 내 돈 (자산-부채)
            
    - 기업의 순자산을 1주당 얼마로 환산할 수 있는지 나타냄. =기업의 자산가치 측정
        - 현 상태에서 모든 주주들에게 돈을 나눠주면 한주당 얼마씩 돌아가는가!
        - BPS가 높을수록 기업의 자산가치가 높다
    - BPS가 높으면 회사가 망해도 주주들은 어느 정도 손해를 덜 수 있다.
    - EPS와 달리 주가와의 상관관계가 매우 낮다.
    
    ![Untitled](/images/Untitled6.png)
    
- **PBR (Price Book-value Ratio) : 주가 순자산비율**
    - **주가순자산비율(PBR) = 주가 / 주당순자산(BPS)**
    - 기업의 순자산에 대해 1주당 몇 배로 거래되고 있는지 나타내는 지표 : 회사 청산시 주주가 배당받을 수 있는 자산의 가치를 의미함.
    - 주가의 상대적 수준을 알 수 있다.
    - PBR이 낮으면 장부가치보다 주가가 낮다는 의미
        - PBR이 1 미만이면 주가가 장부상 순자산가치(청산가치)에도 못 미친다는
    - 일반적으로 저 PBR이 고 PBR 대비 높은 주가수익률을 나타낸다(단, 부채가 반영되지 않으므로 주의 필요)
    - 경영성과가 좋을 수록 높게 나타난다.
    
    ![Untitled](/images/Untitled7.png)
    

- **+) ROE (Return On Equity) : 자기 자본 이익률**
    - **ROE = 당기순이익 / 자본총계 * 100**
    - 기업이 보유한 자본에 비해 얼마의 이익을 창출했는지를 알아보는 지표
    - ROE가 낮을수록 안 좋음
    - ROE가 10%이면 10억원의 자본을 투자했을 때 1억의 이익을 낸다는 의미
    
    ![Untitled](/images/Untitled8.png)
    

---

## 주당배당금, 배당수익률

- **주당배당금 : 보유 주식 한 주당 지급이 되는 금액**
- **배당수익률 : 현 주가에 비해서 배당금이 얼마나 많은지를 확인할 수 있는 지표**

![Untitled](/images/Untitled9.png)

---

## Moving average : Golden Cross, Dead Cross

**Golden Cross / Dead Cross**

- **Golden Cross**
    - 단기이동평균선이 장기이동평균선을 뚫고 상승하는 경우
    - 가장 좋은 매수시점
- **Dead Cross**
    - 단기이동평균선이 장기이동평균선을 위에서 아래로 하향돌파하는 경우
    - 가장 좋은 매도시점
- **참고 : 강세시장 & 약세시장**
    - 강세시장의 데드크로스 : 상승추세속 조정기가 될 확률이 높기 때문에 오히려 매수시점이 될 수 있음.
    - 약세시장의 골든크로스 : 오히려 매도시점이 될 수 있다.
- **+) 매수와 매도**
    - 매수 : 주식을 사는 것
    - 매도 : 주식을 파는 것
    

---

## RSI (Relative Strength Index) : 상대강도지수

- 가격의 상승압력과 하락압력 간의 상대적인 강도를 나타내는 보조 지표. 기술적 분석에 사용한다.
- **일정 기간 동안 주가가 전일 가격에 비해 상승한 변화량과 하락한 변화량의 평균값을 구하여, 상승한 변화량이 크면 과매수로, 하략한 변화량이 크면 과매도로 판단하는 방식.**
- 계산 방법은 다음과 같다. 주어진 기간의 모든 날의 주가에 대해서
    1. 가격이 전일 가격보다 상승한 날의 상승분은 U(up) 값이라고 하고,
    2. 가격이 전일 가격보다 하락한 날의 하락분은 D(down) 값이라고 한다.
    3. U값과 D값의 평균값을 구하여 그것을 각각 AU(average ups)와 AD(average downs)라 한다.
    4. AU를 AD값으로 나눈 것을 RS(relative strength) 값이라고 한다. RS 값이 크다는 것은 일정 기간 하락한 폭보다 상승한 폭이 크다는 것을 의미한다.
    5. 다음 계산에 의하여 RSI 값을 구한다.
- **RSI 계산 공식 : RSI = RS / (1 + RS)**
    - **대체로 백분율로 나타낸다**
- RSI 그래프는 [이동평균선](https://ko.wikipedia.org/wiki/%EC%9D%B4%EB%8F%99%ED%8F%89%EA%B7%A0%EC%84%A0)을 함께 나타내는 것이 보통이며, 이동평균선을 며칠선으로 할 것인가 역시 파라메터로 주어진다. RSI를 15일에 대하여 구하고 5일 이동평균선을 함께 표시하는 경우 그래프에 (15, 5)라고 표시해주는 것이 일반적이다.
- **RSI는 0에서 100까지의 범위**에서 값을 가지며, **70 이상일 때는 과매수 상태**를 나타내며, **30 이하일 때는 과매도 상태**를 나타낸다. RSI 값이 50을 기준으로 상승세와 하락세를 파악하는 데 사용되며, **50보다 크면 상승세, 50보다 작으면 하락세**를 나타낸다.
- 과매수 상태 : 매도해야함 / 과매도 상태 : 매수해야함
- RSI는 거래 시점에 상승세와 하락세를 파악하는 데 도움이 되며, 다른 기술적 분석 지표와 함께 사용될 때 효과적인 투자 전략을 구성하는 데 도움.

---

## 기타 필요한 지식들 : by ChatGPT

1. **경제 지식**
    - **GDP(Gross Domestic Product)** : 국내총생산
    - **인플레이션(Inflation)** : 물가상승
    - **금리(Rate)** : 금융시장에서 대출이나 예금 등에 대한 이자율
    - **실업률(Unemployment rate)** : 경제 활동인구 중 일자리를 찾고 있는 인구의 비율
    - **통화량(Money supply)** : 통화의 총액
2. **주식 지식**
    - **시가총액(Market capitalization)** : 상장된 주식의 총 가치
    - **배당(Dividend)** : 기업이 주주에게 주식의 보유에 대한 보상으로 지급하는 금액
    - **주식 종류** : 보통주(Common stock), 우선주(Preferred stock)
    - **PER(Price-to-Earnings Ratio)** : 주가 대비 주당순이익 비율
    - **PBR(Price-to-Book Ratio)** : 주가 대비 주당순자산 비율
3. **기업 분석**
    - **재무제표(Financial statements)** : 기업의 재무상태를 파악하기 위한 회계 정보를 담은 문서로, 손익계산서, 자산총계표, 현금흐름표 등으로 구성됨.
    - **주가 이익비율(P/E ratio)** : 기업의 주가와 주당 이익을 나타내는 비율로, 기업의 가치를 측정하는 지표.
    - **적정주가(Fair value)** : 기업의 가치를 분석하여 산출된 적정한 주가.
4. **기술적 분석**
    - **이동평균선(Moving average)** : 일정 기간 동안의 주가 평균을 나타내는 지표로, 주가의 추세와 반전을 파악하는 데 사용.
    - **볼린저 밴드(Bollinger bands)** : 주가의 변동성을 파악하기 위한 지표로, 이동평균선 위아래로 일정한 거리만큼의 밴드를 그려 표현함.
    - **MACD(Moving Average Convergence Divergence)** : 주가의 추세를 파악하기 위한 지표로, 이동평균선의 교차와 차이를 계산하여 표현함.
5. **시장 분석**
    - **시장 지수(Market index)** : 대표적인 지수로는 KOSPI, S&P 500, NASDAQ 등이 있으며, 해당 시장의 주식 전반의 추세를 파악하는 데 사용됨.
    - **경제지표(Economic indicators)** : GDP, 실업률, 인플레이션 등의 경제 지표를 분석하여 전반적인 시장의 경기를 파악하는 데 사용됨.
    

---

## Quantitiative Finance 용어

- 포트폴리오(Portfolio)
    - 간단히 설명하면 분산 투자라고 할 수 있음.
    - 특정 로직(모델)을 토대로 투자를 진행할 시 한두 개가 아닌 10~40개의 종목에 분산투자함으로써 개별종목이 가진 위험을 제거할 수 있음.
    - 통상적으로 20~30개의 종목에 투자
- **CAGR (Compounded Annual Growth Rate) : 연복리수익률**
    - 특정 기간의 투자 수익률을 연평균 복리 이자율로 환산한 지표
    - **CAGR = (최종가치 / 최초 가치) ^ (1/ 투자 기간) - 1**
        - 최초 가치 : 특정 기간의 시작 시점에서의 가치
        - 최종 가치 : 동일한 기간의 종료 시점에서의 가치
    - CAGR은 투자 금액에 따라 달라지지 않고, 투자 기간 동안의 수익률만으로 계산함.
    - 예시
        - 예를 들어, 5년 동안 100만원을 투자했을 때, 5년 후 최종 가치가 150만원이라면 CAGR은 다음과 같이 계산됩니다.
            - CAGR = (150 / 100) ^ (1/5) - 1 = 8.14%
            - 따라서 이 투자의 연평균 복리 이자율은 8.14%입니다.

- **MDD (Maximum Drawdown) : 최대낙폭률**
    - **최대 손실액을 의미하는 지표로, 주가나 포트폴리오 등의 가격이 상승하다가 최대로 하락한 금액을 나타낸다.**
    - **MDD = (최저점 가격 - 최고점 가격) / 최고점 가격**
        - 최고점 가격 : 특정 기간 동안 포트폴리오의 가격이 최대치를 기록한 가격
        - 최저점 가격 : 최대치 이후로 포트폴리오의 가격이 가장 낮았을 때의 가격
    - 예시
        - 1년 동안의 포트폴리오 가격 추이가 다음과 같을 때
            - 1월 : 100만원
            - 2월 : 110만원
            - 3월 : 90만원
            - 4월 : 80만원
            - 5월 : 100만원
        - 최고점 가격 : 110만원, 최저점 가격 : 80만원
        - MDD = (80 - 110) / 110 = -0.2727 = -27.27%
        - 해당 포트폴리오의 가격이 최대치 대비 27.27%하락한 것을 의미함.
    - MDD은 투자자가 견딜 수 있는 손실의 한계를 파악하는 데 중요한 지표이다.
    
- **Sharpe Ratio**
    - 투자 수익률과 위험을 종합적으로 고려하여 계산한 지표로, **투자 수익률과 위험 수준 간의 관계**를 나타낸다.
    - **Sharpe Ratio = (포트폴리오 수익률 - 무위험 수익률) / 포트폴리오 수익률의 표준편차**
    - 예시
        - 1년 동안의 포트폴리오 수익률이 10%이고, 무위험 수익률이 2%이며, 포트폴리오 수익률의 표준편차가 12%일 때
        - Sharpe Ratio = (10 - 2) / 12 = 0.67
        - 해당 포트폴리오가 리스크 프리 레이트 대비 0.67의 초과 수익을 제공하고 있으며, 포트폴리오 수익률의 변동성을 고려할 때 위험 대비 높은 수준의 수익을 제공하고 있다는 것을 의미함.
    - Sharpe Ratio가 높을수록 투자 수익률에 비해 투자 위험이 낮은 것으로 간주됩니다.
- **Rebalancing**
    - **포트폴리오 내의 자산 비율을 정기적으로 조정하는 것.**
    - 일정한 로직대로 매매를 진행하는 과정에서 특정 시점에 맞춰 종목을 교체함.
    - Rebalancing을 통해 투자자는 원하는 수익과 위험 수준을 유지하면서 자산의 분산을 최적화할 수 있다.
    - 예시
        
        예를 들어, 60% 주식과 40% 채권으로 구성된 포트폴리오가 있다고 가정해봅시다. 이 경우, 주식 시장이 성장하면 주식의 비중이 높아져서 포트폴리오 내의 자산 비중이 70% 주식과 30% 채권으로 바뀔 수 있습니다. 이 때, 리밸런싱을 통해 60% 주식과 40% 채권으로 자산 비중을 맞추어주는 것이 필요합니다.
        
        예를 들어, 60% 주식과 40% 채권으로 구성된 포트폴리오의 초기 자산이 10만 달러이고, 1년 후 주식의 수익률이 20%, 채권의 수익률이 5%로 각각 상승했다고 가정해봅시다. 이 경우, 주식의 비중이 높아져서 포트폴리오 내의 자산 비중이 70% 주식과 30% 채권으로 바뀌게 됩니다. 이 때, 리밸런싱을 하지 않는다면, 다음과 같은 결과가 발생할 수 있습니다.
        
        주식: (10만 달러 x 60%) x 1.20 = 72,000 달러
        채권: (10만 달러 x 40%) x 1.05 = 42,000 달러
        포트폴리오 총액: 114,000 달러
        
        반면, 리밸런싱을 하게 된다면, 포트폴리오 내의 자산 비중을 60% 주식과 40% 채권으로 맞춰주기 위해 7,200 달러의 주식을 매도하고 3,000 달러의 채권을 매수해야 합니다.
        
        주식: (10만 달러 x 60%) - 7,200 달러 = 53,400 달러
        채권: (10만 달러 x 40%) + 3,000 달러 = 43,000 달러
        포트폴리오 총액: 96,400 달러
        
        리밸런싱을 통해 자산 비중을 맞추어준 경우, 포트폴리오 총액이 96,400 달러로 줄어들었지만, 주식 시장의 성장에 따른 위험을 줄이고, 장기적으로 안정적인 수익을 추구하는 투자 방침에 부합합니다.
        
- **Back Testing**
    - 과거의 데이터를 이용하여 통해 투자 전략의 성과와 위험을 예측하고 개선하는 과정
    - 예시
        
        예를 들어, 주식 투자에서 매수 시점을 정하는데 일정한 이동평균선을 사용하고, 매도 시점은 이동평균선이 아래로 돌파될 때로 설정하는 전략을 고려해보겠습니다. 이 경우, 이동평균선의 기간을 변경하면서 역사적 데이터를 사용하여 해당 전략을 백테스트해볼 수 있습니다.
        

---

## 유전자 알고리즘

## 정의

유전자 알고리즘이란?
유전자 알고리즘(Genetic Algorithm)은 진화론적 원리를 사용하여 최적화 문제를 해결하는 컴퓨터 알고리즘입니다. 이 알고리즘은 생물학에서의 자연선택, 교배, 돌연변이 등의 메커니즘을 모방하여, 가능한 해를 모색하는 최적화 문제를 해결합니다.

## 단계

1. **초기 해집단 생성**
- 초기 해집단?
    
    유전자 알고리즘에서 최적화 문제를 해결하기 위해 무작위로 생성된 해들의 집합입니다. 이 해집단은 문제에 대한 초기 추측을 나타내며, 알고리즘의 시작점입니다.
    
    가능한 모든 해의 공간에서 균등하게 분포되도록 생성됩니다. 이렇게 생성된 초기 해집단은 알고리즘의 성능에 큰 영향을 미치기 때문에 충분히 크고 다양한 해들로 구성되어야 하며, 가능한 모든 영역을 탐색할 수 있는 범위 내에서 무작위로 선택되어야 합니다.
    

1. **적합도 함수 평가**
- 각 해에 대해 적합도 함수를 평가합니다. 이 함수는 각 해의 적합도를 계산하며, 적합도는 일반적으로 문제의 목적에 따라 정의됩니다.

1. **선택 연산**
- 평가된 적합도에 기초하여 해를 선택합니다. 이 때, 적합도가 높은 해일수록 선택될 확률이 높아집니다.

1. **교배 연산**
- 선택된 해들을 이용하여 새로운 해들을 생성합니다. 이를 교배 연산이라고 합니다. 일반적으로 이 과정에서 두 개 이상의 해를 선택하여, 해를 결합시키는 방식을 사용합니다.

1. **돌연변이 연산**
- 새로운 해들 중 일부를 선택하여 돌연변이 연산을 수행합니다. 이 과정에서 해의 일부 요소가 무작위로 변경됩니다.

1. **자손 해집단 생성**
- 교배 연산과 돌연변이 연산을 통해 생성된 해들을 이용하여 자손 해집단을 생성합니다.

1. **종료 조건 검사**
- 종료 조건을 검사하여 알고리즘을 종료합니다. 이 때, 종료 조건은 일정 성능 수준에 도달하거나, 일정 반복 횟수에 도달하는 등 다양한 조건을 사용할 수 있습니다.

1. **반복**
- 2번부터 7번까지의 과정을 반복하여, 해를 향상시킵니다. 이 과정에서 초기 해집단을 향상시키고, 최적해를 찾는 것이 목적입니다.
